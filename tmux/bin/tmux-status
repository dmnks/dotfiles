#!/bin/bash

CMD=$1
shift
case $CMD in
    icon)
        name="$1"
        case "$name" in
            code)   echo " " ;;
            git)    echo "󰘬 " ;;
            build)  echo " " ;;
            debug)  echo " " ;;
            bash)   echo " " ;;
            slack)  echo "󰒱 " ;;
            mutt)   echo "󰇰 " ;;
            *)      echo "" ;;
        esac
    ;;
    branch)
        git rev-parse --is-inside-work-tree || exit 0
        cd "$1"
        echo "󰘬 $(git rev-parse --abbrev-ref HEAD)"
    ;;
    toolbox)
        name=$(echo "$1" | sed 's/\//-/')
        id=$(podman ps -q --filter name=$name --filter status=running)
        [ "$id" == "" ] && exit 0
        podman exec $name \
            sh -c 'source /etc/os-release; echo "󰆧 ${ID}-${VERSION_ID}"'
    ;;
esac
